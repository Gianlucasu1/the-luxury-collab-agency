---
import pic1 from "../assets/luxurycollablogo.png";
---


<nav class="fixed top-0 w-full z-50 transition-all duration-300 bg-transparent" id="navbar">
  <div class="container">
    <div class="flex items-center justify-between py-4">
      <!-- Logo -->
      <div class="flex items-center gap-2">
        <a href="/" class="hover:opacity-80 transition-opacity duration-300">
          <img src={pic1.src} alt="The Luxury Collab Agency" class="w-40 h-auto object-contain" />
        </a>
      </div>

      <!-- Navigation Links (desktop only) -->
      <div class="hidden lg:flex flex-1 items-center justify-center gap-12 xl:gap-16 2xl:gap-20">
        <a href="/about-us" class="nav-link">About us</a>
        <a href="/yacht-services" class="nav-link text-center leading-tight">
          <span>Luxury Yachts</span><br />
          <span>&amp; Sailing</span>
        </a>
        <a href="/private-jets" class="nav-link">Private Jets &amp; Aerial Escapes</a>
        <a href="/luxury-getaways" class="nav-link">Luxury Getaways</a>
        <a href="#contact" class="nav-link">Blog</a>
        <a href="/contact-us" class="nav-link">Contact Us</a>
      </div>

      <!-- Account Button (desktop only) -->
      <a href="/account" class="hidden lg:inline-block premium-cta px-6 py-3">Account</a>

      <!-- Mobile/Tablet Menu Button -->
      <button class="block lg:hidden bg-transparent border-none text-yellow-400 cursor-pointer p-2" id="mobile-menu-btn">
        <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="28" height="28">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>
</nav>

<!-- Mobile Menu Overlay -->
<div class="fixed top-0 left-0 w-full h-screen bg-black/50 opacity-0 invisible transition-all duration-300 z-[55]" id="mobile-menu-overlay"></div>

<!-- Mobile Menu -->
<div class="fixed top-0 -right-full w-[80%] max-w-[380px] h-screen bg-blue-900 text-white border-l border-white/10 transition-all duration-300 z-[60] p-10" id="mobile-menu">
  <button class="absolute top-4 right-4 bg-transparent border-none text-white cursor-pointer p-2" id="mobile-menu-close">
    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>
  
  <div class="mt-10 flex flex-col gap-4">
    <a href="/about-us" class="block px-2 py-2 rounded-md hover:bg-white/5 transition-colors text-lg text-white no-underline">About us</a>
    <a href="/yacht-services" class="block px-2 py-2 rounded-md hover:bg-white/5 transition-colors text-lg text-white no-underline">
      <span>Luxury Yachts</span><br />
      <span>&amp; Sailing</span>
    </a>
    <a href="/private-jets" class="block px-2 py-2 rounded-md hover:bg-white/5 transition-colors text-lg text-white no-underline">Private Jets &amp; Aerial Escapes</a>
    <a href="/luxury-getaways" class="block px-2 py-2 rounded-md hover:bg-white/5 transition-colors text-lg text-white no-underline">Luxury Getaways</a>
    <a href="#contact" class="block px-2 py-2 rounded-md hover:bg-white/5 transition-colors text-lg text-white no-underline">Blog</a>
    <a href="/contact-us" class="block px-2 py-2 rounded-md hover:bg-white/5 transition-colors text-lg text-white no-underline">Contact Us</a>
    
    <div class="mt-4 pt-2">
      <button class="premium-cta w-full px-4 py-3">Account</button>
    </div>
  </div>
</div>

<script>
  // Scroll behavior
  function handleScroll() {
    const navbar = document.getElementById('navbar');
    if (navbar) {
      if (window.scrollY > 50) {
        navbar.style.background = 'linear-gradient(to bottom, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.9) 30%, rgba(0, 0, 0, 0.8) 60%, rgba(0, 0, 0, 0.4) 85%, rgba(0, 0, 0, 0.1) 95%, rgba(0, 0, 0, 0) 100%)';
        navbar.style.backdropFilter = 'blur(12px)';
        navbar.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.15)';
      } else {
        navbar.style.background = 'transparent';
        navbar.style.backdropFilter = '';
        navbar.style.boxShadow = '';
      }
    }
  }

  // Mobile menu functionality
  function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobile-menu');
    const overlay = document.getElementById('mobile-menu-overlay');
    
    if (mobileMenu && overlay) {
      const isOpen = mobileMenu.classList.contains('right-0');
      
      if (isOpen) {
        mobileMenu.classList.remove('right-0');
        mobileMenu.classList.add('-right-full');
        overlay.classList.remove('opacity-100', 'visible');
        overlay.classList.add('opacity-0', 'invisible');
        document.body.style.overflow = '';
      } else {
        mobileMenu.classList.remove('-right-full');
        mobileMenu.classList.add('right-0');
        overlay.classList.remove('opacity-0', 'invisible');
        overlay.classList.add('opacity-100', 'visible');
        document.body.style.overflow = 'hidden';
      }
    }
  }

  function closeMobileMenu() {
    const mobileMenu = document.getElementById('mobile-menu');
    const overlay = document.getElementById('mobile-menu-overlay');
    
    if (mobileMenu && overlay) {
      mobileMenu.classList.remove('right-0');
      mobileMenu.classList.add('-right-full');
      overlay.classList.remove('opacity-100', 'visible');
      overlay.classList.add('opacity-0', 'invisible');
      document.body.style.overflow = '';
    }
  }

  // Event listeners
  document.addEventListener('DOMContentLoaded', () => {
    // Scroll event
    window.addEventListener('scroll', handleScroll);
    
    // Mobile menu events
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenuClose = document.getElementById('mobile-menu-close');
    const overlay = document.getElementById('mobile-menu-overlay');
    
    if (mobileMenuBtn) {
      mobileMenuBtn.addEventListener('click', toggleMobileMenu);
    }
    
    if (mobileMenuClose) {
      mobileMenuClose.addEventListener('click', closeMobileMenu);
    }
    
    if (overlay) {
      overlay.addEventListener('click', closeMobileMenu);
    }

    // Close mobile menu when clicking on nav links
    const mobileNavLinks = document.querySelectorAll('.mobile-menu-nav a');
    mobileNavLinks.forEach(link => {
      link.addEventListener('click', closeMobileMenu);
    });
  });

  // Clean up event listeners when component is unmounted
  document.addEventListener('astro:before-swap', () => {
    window.removeEventListener('scroll', handleScroll);
  });
</script>
